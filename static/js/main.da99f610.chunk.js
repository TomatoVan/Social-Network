/*! For license information please see main.da99f610.chunk.js.LICENSE.txt */
(this["webpackJsonp02-social-network"]=this["webpackJsonp02-social-network"]||[]).push([[0],{10:function(e,t,s){e.exports={form:"Login_form__3P14y",login:"Login_login__2W7wQ",error:"Login_error__1BoY4",errorBorder:"Login_errorBorder__2qOJe",textInput:"Login_textInput__WI3f9",textareaInput:"Login_textareaInput__3954F",submitInput:"Login_submitInput__39_KS",submitBtn:"Login_submitBtn__2U356",btnInput:"Login_btnInput__6k8QW",Btn:"Login_Btn__3lPt_",button:"Login_button__1Vobv",labelTextInput:"Login_labelTextInput__1nDNI",labelCheckbox:"Login_labelCheckbox__1kEXz"}},12:function(e,t,s){e.exports={nav:"Navbar_nav__1QaQk",active:"Navbar_active__1wyjK"}},13:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs___9pPk",dialogsItems:"Dialogs_dialogsItems__1xijz",active:"Dialogs_active__2x2JH",messages:"Dialogs_messages__204vA",message:"Dialogs_message__GojQ0",postTextField:"Dialogs_postTextField__3VIjI",error:"Dialogs_error__3JUW9",submitBtn:"Dialogs_submitBtn__16f0L"}},14:function(e,t,s){e.exports={userPhoto:"Users_userPhoto__1IBQr",wrapper:"Users_wrapper__1Z5_E",firstLayer:"Users_firstLayer__bS8HK",selectedPage:"Users_selectedPage__29Ane",notSelectedPage:"Users_notSelectedPage__Y3b6R",hidePage:"Users_hidePage__1lbMe",preloader:"Users_preloader__29Qbe",pagesList:"Users_pagesList__2M42V"}},24:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__22phh",posts:"MyPosts_posts__2V_dc",postsForm:"MyPosts_postsForm__1uwAE",error:"MyPosts_error__IhUtJ",postTextField:"MyPosts_postTextField__2rI76",submitBtn:"MyPosts_submitBtn__id7QQ"}},28:function(e,t,s){e.exports={header:"Header_header__3-Ffw",loginBlock:"Header_loginBlock__2XbbK",loginText:"Header_loginText__13Nsg",logoutBtn:"Header_logoutBtn__3qWBd"}},4:function(e,t,s){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3ghQQ",profileAbout:"ProfileInfo_profileAbout__1FPp4",contactsSVG:"ProfileInfo_contactsSVG__1eVMm",noContacts:"ProfileInfo_noContacts__C9cZe",lookingForAJob:"ProfileInfo_lookingForAJob__2eaE7",NotLookingForAJob:"ProfileInfo_NotLookingForAJob__3qoUQ"}},43:function(e,t,s){e.exports={item:"Post_item__2s_Oo"}},50:function(e,t,s){},51:function(e,t,s){},78:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),r=s(31),i=s.n(r),o=(s(50),s(17)),c=s(18),l=s(20),u=s(19),d=(s(51),s(12)),j=s.n(d),b=s(7),p=s(0),h=function(){return Object(p.jsxs)("nav",{className:j.a.nav,children:[Object(p.jsx)("div",{className:j.a.item,children:Object(p.jsx)(b.b,{to:"/profile",className:function(e){return e.isActive?"".concat(j.a.active):""},children:"Profile"})}),Object(p.jsx)("div",{className:j.a.item,children:Object(p.jsx)(b.b,{to:"/dialogs",className:function(e){return e.isActive?"".concat(j.a.active):""},children:"Messages"})}),Object(p.jsx)("div",{className:j.a.item,children:Object(p.jsx)(b.b,{to:"/users",className:function(e){return e.isActive?"".concat(j.a.active):""},children:"Users"})}),Object(p.jsx)("div",{className:j.a.item,children:Object(p.jsx)(b.b,{to:"/news",className:function(e){return e.isActive?"".concat(j.a.active):""},children:"News"})}),Object(p.jsx)("div",{className:j.a.item,children:Object(p.jsx)(b.b,{to:"/music",className:function(e){return e.isActive?"".concat(j.a.active):""},children:"Music"})}),Object(p.jsx)("div",{className:j.a.item,children:Object(p.jsx)(b.b,{to:"/settings",className:function(e){return e.isActive?"".concat(j.a.active):""},children:"Settings"})})]})},f=function(){return Object(p.jsx)("div",{children:"News"})},g=function(){return Object(p.jsx)("div",{children:"Music"})},O=function(){return Object(p.jsx)("div",{children:"Settings"})},m=s(3),v=s(5),x=s(2),P={dialogsData:[{id:1,name:"Michael"},{id:2,name:"Andrey"},{id:3,name:"Leon"},{id:4,name:"Valera"},{id:5,name:"Sasha"}],messagesData:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"Hello"}]},A=s(13),y=s.n(A),S=function(e){return Object(p.jsx)("div",{className:y.a.dialog,children:Object(p.jsx)(b.b,{to:"/dialogs/"+e.id,className:function(e){return e.isActive?"".concat(y.a.active):""},children:e.name})})},N=function(e){return Object(p.jsx)("div",{className:y.a.message,children:e.message})},w=s(26),C=function(e){var t,s=e.dialogsPage.dialogsData.map((function(e){return Object(p.jsx)(S,{id:e.id,name:e.name},e.id)})),n=e.dialogsPage.messagesData.map((function(e){return Object(p.jsx)(N,{id:e.id,message:e.message},e.id)})),a=(e.dialogsPage.newMessageBody,Object(w.a)({mode:"onSubmit"})),r=a.register,i=a.handleSubmit,o=a.formState.errors,c=a.reset;return Object(p.jsxs)("div",{className:y.a.dialogs,children:[Object(p.jsx)("nav",{className:y.a.dialogsItems,children:s}),Object(p.jsxs)("div",{className:y.a.messages,children:[Object(p.jsx)("div",{children:n}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{children:Object(p.jsxs)("form",{onSubmit:i((function(t){var s;console.log(t),c(),s=t.message,e.sendMessage(s)})),className:y.a.postsForm,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("textarea",Object(x.a)(Object(x.a)({className:y.a.postTextField},r("message",{required:"The field is required"})),{},{placeholder:"Message"})),Object(p.jsx)("div",{children:(null===o||void 0===o?void 0:o.message)&&Object(p.jsx)("p",{className:y.a.error,children:(null===o||void 0===o||null===(t=o.message)||void 0===t?void 0:t.message)||"Error!"})})]}),Object(p.jsx)("div",{children:Object(p.jsx)("input",{className:y.a.submitBtn,type:"submit",value:"Add post"})})]})})})]})]})},D=s(8),E=s(23),I=function(e){return{isAuth:e.auth.isAuth}};function k(e){return Object(D.b)(I)((function(t){var s=t.isAuth,n=Object(E.a)(t,["isAuth"]);return s?Object(p.jsx)(e,Object(x.a)({},n)):Object(p.jsx)(m.a,{to:"/login"})}))}var L=s(21),T=Object(L.c)(Object(D.b)((function(e){return{dialogsPage:e.dialogsPage}}),{sendMessage:function(e){return{type:"SEND-MESSAGE",payload:{newPost:e}}}}),k)(C),G=s(4),F=s.n(G),J=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={editMode:!1,status:e.props.status},e.onDoubleClickHandler=function(){e.setState({editMode:!0})},e.onBlurHandler=function(){e.setState({editMode:!1}),e.props.updateUserStatus(e.state.status)},e.onChangeHandler=function(t){e.setState({status:t.currentTarget.value})},e}return Object(c.a)(s,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(p.jsx)("div",{children:this.state.editMode?Object(p.jsx)("div",{children:Object(p.jsx)("input",{onChange:this.onChangeHandler,onBlur:this.onBlurHandler,value:this.state.status,autoFocus:!0})}):Object(p.jsx)("div",{children:Object(p.jsx)("span",{onDoubleClick:this.onDoubleClickHandler,children:this.props.status||"No status"})})})}}]),s}(a.a.Component),M=function(e){return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:F.a.descriptionBlock,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:e.profile.photos.large,alt:""}),Object(p.jsx)(J,{status:e.status,updateUserStatus:e.updateUserStatus})]}),Object(p.jsxs)("div",{className:F.a.profileAbout,children:[Object(p.jsx)("div",{children:e.profile.fullName}),Object(p.jsx)("div",{children:e.profile.aboutMe}),Object(p.jsx)("h3",{children:"Contacts"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("a",{href:e.profile.contacts.facebook,children:Object(p.jsx)("span",{className:e.profile.contacts.facebook?F.a.contactsSVG:F.a.noContacts,children:"Facebook"})}),Object(p.jsx)("a",{href:e.profile.contacts.website?F.a.contactsSVG:F.a.noContacts,children:Object(p.jsx)("span",{className:F.a.contactsSVG,children:"Website"})}),Object(p.jsx)("a",{href:e.profile.contacts.vk?F.a.contactsSVG:F.a.noContacts,children:Object(p.jsx)("span",{className:F.a.contactsSVG,children:"VK"})}),Object(p.jsx)("a",{href:e.profile.contacts.twitter?F.a.contactsSVG:F.a.noContacts,children:Object(p.jsx)("span",{className:F.a.contactsSVG,children:"Twitter"})}),Object(p.jsx)("a",{href:e.profile.contacts.instagram?F.a.contactsSVG:F.a.noContacts,children:Object(p.jsx)("span",{className:F.a.contactsSVG,children:"Instagram"})}),Object(p.jsx)("a",{href:e.profile.contacts.youtube?F.a.contactsSVG:F.a.noContacts,children:Object(p.jsx)("span",{className:F.a.contactsSVG,children:"YouTube"})}),Object(p.jsx)("a",{href:e.profile.contacts.github?F.a.contactsSVG:F.a.noContacts,children:Object(p.jsx)("span",{className:F.a.contactsSVG,children:"Github"})}),Object(p.jsx)("a",{href:e.profile.contacts.mainLink?F.a.contactsSVG:F.a.noContacts,children:Object(p.jsx)("span",{className:F.a.contactsSVG,children:"MainLink"})})]}),Object(p.jsxs)("div",{className:e.profile.lookingForAJob?F.a.lookingForAJob:F.a.NotLookingForAJob,children:["Looking for a Job",e.profile.lookingForAJob]}),Object(p.jsx)("div",{children:e.profile.lookingForAJobDescription}),Object(p.jsxs)("div",{children:["\u041c\u043e\u0439 Id: ",e.profile.userId]})]})]})})},B=s(24),U=s.n(B),_=s(43),H=s.n(_),K=function(e){return Object(p.jsxs)("div",{className:H.a.item,children:[Object(p.jsx)("img",{src:"https://img2.freepng.ru/20180523/tha/kisspng-businessperson-computer-icons-avatar-clip-art-lattice-5b0508dc6a3a10.0013931115270566044351.jpg",alt:"post ava"}),e.message,Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:"Like"})," ",e.likes]})]})},Q=function(e){var t,s=e.postsData.map((function(e){return Object(p.jsx)(K,{message:e.message,likes:e.likes},e.id)})),n=Object(w.a)({mode:"onSubmit"}),a=n.register,r=n.handleSubmit,i=n.formState.errors,o=n.reset;return Object(p.jsxs)("div",{className:U.a.postsBlock,children:[Object(p.jsx)("h3",{children:"My posts"}),Object(p.jsx)("div",{children:Object(p.jsxs)("form",{onSubmit:r((function(t){var s;console.log(t),o(),s=t.message,e.addPost(s)})),className:U.a.postsForm,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("textarea",Object(x.a)(Object(x.a)({className:U.a.postTextField},a("message",{required:"The field is required"})),{},{placeholder:"Message"})),Object(p.jsx)("div",{children:(null===i||void 0===i?void 0:i.message)&&Object(p.jsx)("p",{className:U.a.error,children:(null===i||void 0===i||null===(t=i.message)||void 0===t?void 0:t.message)||"Error!"})})]}),Object(p.jsx)("div",{children:Object(p.jsx)("input",{className:U.a.submitBtn,type:"submit",value:"Add post"})})]})}),Object(p.jsx)("div",{className:U.a.posts,children:s})]})},V=s(44),z=s.n(V).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0",headers:{"API-KEY":"e53bd4e2-48e0-477a-b70a-83002085f133"}}),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return z.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return console.log(e.data),e.data}))},R=function(e){return z.delete("follow/".concat(e)).then((function(e){return e.data}))},X=function(e){return z.post("follow/".concat(e)).then((function(e){return e.data}))},q=function(){return z.get("auth/me").then((function(e){return e.data}))},W=function(e,t,s){return z.post("auth/login",{email:e,password:t,rememberMe:s}).then((function(e){return e.data}))},Y=function(){return z.delete("auth/login").then((function(e){return e.data}))},$=function(e){return z.get("profile/"+e).then((function(e){return e.data}))},ee=function(e){return z.get("profile/status/"+e).then((function(e){return e.data}))},te=function(e){return z.put("profile/status/",{status:e}).then((function(e){return e.data}))},se={postsData:[{id:1,message:"Hi, how are you",likes:15},{id:2,message:"My first post?",likes:20}],profile:null,status:""},ne=function(e){return{type:"SET-USER-STATUS",payload:{status:e}}},ae=Object(D.b)((function(e){return{newPostText:e.profilePage.newPostText,postsData:e.profilePage.postsData}}),{addPost:function(e){return{type:"ADD-POST",payload:{newPost:e}}}})(Q),re=s(14),ie=s.n(re),oe=s.p+"static/media/Spin.92abdd2b.svg",ce=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("img",{className:ie.a.preloader,src:oe,alt:""})})},le=function(e){return e.profile?Object(p.jsxs)("div",{children:[Object(p.jsx)(M,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),Object(p.jsx)(ae,{})]}):Object(p.jsx)(ce,{})},ue=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e;null!==this.props.match&&(e=this.props.match.params.userId),e||(e="22048"),this.props.getUserProfileOnMount(e),this.props.getUserStatusOnMount(e)}},{key:"render",value:function(){return Object(p.jsx)(le,Object(x.a)({},this.props))}}]),s}(a.a.Component);function de(e){return function(t){var s=Object(m.g)("/profile/:userId/");return Object(p.jsx)(e,Object(x.a)(Object(x.a)({},t),{},{match:s}))}}var je=Object(L.c)(Object(D.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status}}),{getUserProfileOnMount:function(e){return function(t){$(e).then((function(e){t({type:"SET-USER-PROFILE",payload:{profile:e}})}))}},getUserStatusOnMount:function(e){return function(t){ee(e).then((function(e){t(ne(e))}))}},updateUserStatus:function(e){return function(t){te(e).then((function(s){0===s.resultCode&&t(ne(e))}))}}}),de,k)(ue),be=s(28),pe=s.n(be),he=function(e){return Object(p.jsxs)("header",{className:pe.a.header,children:[Object(p.jsx)("img",{src:"https://www.freelogodesign.org/Content/img/logo-ex-7.png",alt:"1"}),Object(p.jsxs)("div",{className:pe.a.loginBlock,children:[!e.isAuth&&Object(p.jsx)(b.b,{className:pe.a.loginText,to:"/login",children:"Login"}),Object(p.jsxs)("div",{children:[e.login," - ",Object(p.jsx)("button",{className:pe.a.logoutBtn,onClick:e.logout,children:"Logout"})]})]})]})},fe={id:null,email:null,login:null,isAuth:!1},ge=function(e,t,s,n){return{type:"SET-USER-DATA",payload:{id:e,email:t,login:s,isAuth:n}}},Oe=function(){return function(e){return q().then((function(t){if(0===t.resultCode){var s=t.data,n=s.id,a=s.email,r=s.login;e(ge(n,a,r,!0))}}))}},me=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(p.jsx)(he,Object(x.a)({},this.props))}}]),s}(a.a.Component),ve=Object(D.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(e){Y().then((function(t){0===t.resultCode&&e(ge(null,null,null,!1))}))}}})(me),xe={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,inProgress:[]},Pe=function(e){return{type:"CHANGE-FOLLOWING",payload:{userId:e}}},Ae=function(e){return{type:"SET-USERS",payload:{users:e}}},ye=function(e){return{type:"TOGGLE-IS-FETCHING",payload:{isFetching:e}}},Se=function(e,t){return{type:"TOGGLE-IN-PROGRESS",payload:{isFetching:e,userId:t}}},Ne=function(e){var t=Math.ceil(e.totalUsersCount/e.pageSize),s=[];if(t>10)if(e.currentPage>5)for(var n=e.currentPage-2;n<=e.currentPage+2&&(s.push(n),n!==t);n++);else for(var a=1;a<=6&&(s.push(a),a!==t);a++);else for(var r=1;r<=t;r++)s.push(r);return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:ie.a.pagesList,children:[Object(p.jsx)("span",{className:e.currentPage<=5?ie.a.hidePage:ie.a.notSelectedPage,onClick:function(){return e.onPageChange(1)},children:" 1 ..."}),s.map((function(t){return Object(p.jsx)("span",{className:e.currentPage===t?ie.a.selectedPage:ie.a.notSelectedPage,onClick:function(){return e.onPageChange(t)},children:t},t)})),Object(p.jsxs)("span",{className:e.currentPage+2>=t?ie.a.hidePage:ie.a.notSelectedPage,onClick:function(){return e.onPageChange(t)},children:[" ... ",t]})]}),e.users.map((function(t){return Object(p.jsxs)("div",{className:ie.a.wrapper,children:[Object(p.jsxs)("span",{className:ie.a.firstLayer,children:[Object(p.jsx)("div",{children:Object(p.jsx)(b.b,{to:"/profile/"+t.id,children:Object(p.jsx)("img",{src:null!==t.photos.small?t.photos.small:"data:image/png;base64,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",alt:"",className:ie.a.userPhoto})})}),Object(p.jsx)("div",{children:t.followed?Object(p.jsx)("button",{disabled:e.inProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},children:"Unfollow"}):Object(p.jsx)("button",{disabled:e.inProgress.some((function(e){return e===t.id})),onClick:function(){e.unFollow(t.id)},children:"Follow"})})]}),Object(p.jsxs)("span",{children:[Object(p.jsxs)("span",{children:[Object(p.jsxs)("div",{children:["Name: ",t.name]}),Object(p.jsxs)("div",{children:["Status: ",t.status]})]}),Object(p.jsx)("span",{})]})]},t.id)}))]})},we=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChange=function(t){e.props.getUsersOnChange(t,e.props.pageSize)},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.getUsersOnMount(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[this.props.isFetching?Object(p.jsx)(ce,{}):null,this.props.isFetching?null:Object(p.jsx)(Ne,{users:this.props.users,currentPage:this.props.currentPage,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,onPageChange:this.onPageChange,inProgress:this.props.inProgress,follow:this.props.follow,unFollow:this.props.unFollow})]})}}]),s}(a.a.Component),Ce=Object(D.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,inProgress:e.usersPage.inProgress}}),{getUsersOnMount:function(e,t){return function(s){s(ye(!0)),Z(e,t).then((function(e){s(ye(!1)),s(Ae(e.items)),s({type:"SET-TOTAL-USER-COUNT",payload:{totalCount:e.totalCount}})}))}},getUsersOnChange:function(e,t){return function(s){s(ye(!0)),s(function(e){return{type:"SET-CURRENT-PAGE",payload:{currentPage:e}}}(e)),Z(e,t).then((function(e){s(ye(!1)),s(Ae(e.items))}))}},follow:function(e){return function(t){t(Se(!0,e)),R(e).then((function(s){0===s.resultCode&&t(Pe(e)),t(Se(!1,e))}))}},unFollow:function(e){return function(t){t(Se(!0,e)),X(e).then((function(s){0===s.resultCode&&t(Pe(e)),t(Se(!1,e))}))}}})(we),De=s(10),Ee=s.n(De),Ie=Object(D.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t){return function(s){var n=e.email,a=e.password,r=e.rememberMe;W(n,a,r).then((function(e){var n=e.fieldsErrors,a=e.resultCode,r=e.messages;switch(a){case 0:s(Oe());break;case 1:!function(){if(n.length>0)for(var e in n){var s=n[e].error;t(n[e].field,{type:"server",message:s})}else for(var a in r){var i=r[a];t("password",{type:"server",message:i})}}();break;case 10:t("password",{type:"server",message:"Incorrect anti-bot symbols"});break;default:throw Error("Error Auth")}}))}}})((function(e){var t,s,n=Object(w.a)({mode:"onSubmit"}),a=n.register,r=n.handleSubmit,i=n.formState.errors,o=n.reset,c=n.setError;return Object(p.jsxs)(p.Fragment,{children:[e.isAuth&&Object(p.jsx)(m.a,{to:"/profile"}),Object(p.jsx)("h1",{className:Ee.a.login,children:"Login"}),Object(p.jsxs)("form",{onSubmit:r((function(t){console.log(t),e.login(t,c),o()})),className:Ee.a.form,children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("label",{className:Ee.a.labelTextInput,children:["Login",Object(p.jsx)("input",Object(x.a)(Object(x.a)({className:" ".concat(i.email?Ee.a.errorBorder:Ee.a.textInput," ")},a("email",{required:"The field is required",minLength:{value:5,message:"Minimum 5 characters"}})),{},{type:"text"}))]}),Object(p.jsx)("div",{children:(null===i||void 0===i?void 0:i.email)&&Object(p.jsx)("p",{className:Ee.a.error,children:(null===i||void 0===i||null===(t=i.email)||void 0===t?void 0:t.message)||"Error!"})})]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("label",{className:Ee.a.labelTextInput,children:["Password",Object(p.jsx)("input",Object(x.a)(Object(x.a)({className:" ".concat(i.password?Ee.a.errorBorder:Ee.a.textInput," ")},a("password",{required:"The field is required",minLength:{value:5,message:"Minimum 5 characters"}})),{},{type:"text"}))]}),Object(p.jsx)("div",{children:(null===i||void 0===i?void 0:i.password)&&Object(p.jsx)("p",{className:Ee.a.error,children:(null===i||void 0===i||null===(s=i.password)||void 0===s?void 0:s.message)||"Error!"})})]}),Object(p.jsx)("div",{children:Object(p.jsxs)("label",{className:Ee.a.labelCheckbox,children:["Remember me",Object(p.jsx)("input",Object(x.a)(Object(x.a)({},a("rememberMe")),{},{type:"checkbox"}))]})}),Object(p.jsx)("div",{children:Object(p.jsx)("input",{className:Ee.a.submitInput,type:"submit",value:"SUBMIT"})})]})]})})),ke={initialized:!1},Le=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"appWrapper",children:[!this.props.initialized&&Object(p.jsx)(ce,{}),Object(p.jsx)(ve,{}),Object(p.jsx)(h,{}),Object(p.jsx)("div",{className:"appWrapperContent",children:Object(p.jsxs)(m.d,{children:[Object(p.jsx)(m.b,{path:"/profile/*",element:Object(p.jsx)(je,{})}),Object(p.jsx)(m.b,{path:"/dialogs/*",element:Object(p.jsx)(T,{})}),Object(p.jsx)(m.b,{path:"/users",element:Object(p.jsx)(Ce,{})}),Object(p.jsx)(m.b,{path:"/news",element:Object(p.jsx)(f,{})}),Object(p.jsx)(m.b,{path:"/music",element:Object(p.jsx)(g,{})}),Object(p.jsx)(m.b,{path:"/settings",element:Object(p.jsx)(O,{})}),Object(p.jsx)(m.b,{path:"/login",element:Object(p.jsx)(Ie,{})})]})})]})}}]),s}(a.a.Component),Te=Object(L.c)(de,Object(D.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Oe());Promise.all([t]).then((function(){e({type:"INITIALIZED-SUCCESS"})}))}}}))(Le),Ge={},Fe=s(45),Je=Object(L.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(x.a)(Object(x.a)({},e),{},{postsData:[].concat(Object(v.a)(e.postsData),[{id:(new Date).getTime(),message:t.payload.newPost,likes:0}])});case"SET-USER-PROFILE":return Object(x.a)(Object(x.a)({},e),{},{profile:t.payload.profile});case"SET-USER-STATUS":return Object(x.a)(Object(x.a)({},e),{},{status:t.payload.status});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":return Object(x.a)(Object(x.a)({},e),{},{messagesData:[].concat(Object(v.a)(e.messagesData),[{id:(new Date).getTime(),message:t.payload.newPost}]),newMessageBody:""});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE-FOLLOWING":return Object(x.a)(Object(x.a)({},e),{},{users:e.users.map((function(e){return e.id===t.payload.userId?Object(x.a)(Object(x.a)({},e),{},{followed:!e.followed}):e}))});case"SET-USERS":return Object(x.a)(Object(x.a)({},e),{},{users:t.payload.users});case"SET-CURRENT-PAGE":return Object(x.a)(Object(x.a)({},e),{},{currentPage:t.payload.currentPage});case"SET-TOTAL-USER-COUNT":return Object(x.a)(Object(x.a)({},e),{},{totalUsersCount:t.payload.totalCount});case"TOGGLE-IS-FETCHING":return Object(x.a)(Object(x.a)({},e),{},{isFetching:t.payload.isFetching});case"TOGGLE-IN-PROGRESS":return Object(x.a)(Object(x.a)({},e),{},{inProgress:t.payload.isFetching?[].concat(Object(v.a)(e.inProgress),[t.payload.userId]):e.inProgress.filter((function(e){return e!==t.payload.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(x.a)(Object(x.a)({},e),t.payload);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED-SUCCESS":return Object(x.a)(Object(x.a)({},e),{},{initialized:!0});default:return e}}}),Me=Object(L.d)(Je,Object(L.a)(Fe.a));window.store=Me,i.a.render(Object(p.jsx)(b.a,{children:Object(p.jsx)(D.a,{store:Me,children:Object(p.jsx)(Te,{})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.da99f610.chunk.js.map